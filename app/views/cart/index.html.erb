<html lang="it">
<head>
</head>
<body>

<h1>Cart</h1>



<table class="table">
  <thead>
    <tr>
      <th>Product</th>
      <th>Price</th>
      <th>Quantity</th>
      <th colspan="3"></th>
    </tr>
  </thead>

  <tbody>
    <% @cartItems.each do |item| %>
      <tr>
        <td><%= link_to item.product.name, showProduct_path(item.product) %></td>
        <td><%= number_to_currency(item.product.price) %></td>
        <td><%= item.quantity %></td>
        <td>
          <div class="btn-group">
          <%= link_to addItemToCart_path(item.product), :class => "btn btn-default" do%>
          <span class="glyphicon glyphicon-plus-sign">Aggiungi 1</span> 
          <% end %>
          <%= link_to subItemToCart_path(item.product), :class => "btn btn-default"  do%>
          <span class="glyphicon glyphicon-minus-sign">Rimuovi 1</span>
          <% end %> 
          <%= link_to emptyCart_path, :class => "btn btn-danger"  do%>          
          <span class="glyphicon glyphicon-remove-circle">Rimuovi tutti</span>
          <% end %>
          </td>
          <div>
      </tr>
    <% end %>
    <% if @cartItems.empty? %>
      <tr>
        <td colspan="4">
          Nessun prodotto nel carrello
        </td>
      </tr>
    <% end %>
  </tbody>
</table>

<% unless @cartItems.empty? %>
<%= link_to 'Checkout', checkoutCart_path, :class => "btn btn-info" %>
<% end %>
</body>
</html>